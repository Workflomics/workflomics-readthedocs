Benchmarker - Installation Guide
================================

This documentation provides instructions for setting up your local environment to benchmark workflows generated by the Worklomics web platform. The setup involves installing Python, setting up a virtual environment, installing the Workflomics benchmarker and supporting containerization.

Requirements
------------

The Workflomics benchmarker requires the following software:

- Linux, macOS, or WSL2 on Windows :ref:`MS Windows Users`
- Python 3.9 or higher
- Docker or Singularity/Apptainer

Linux and macOS Users
---------------------

For Linux and macOS users, continue to the next section to install Python :ref:`Installing Python` and set up a virtual environment.

MS Windows Users
----------------

For Windows users, it is required to use the Windows Subsystem for Linux (WSL2) to run the Workflomics benchmarker. Follow the steps below to set up WSL2:

Installing Python
-----------------

Follow these steps to install Python:

1. Download the latest version of Python from the official website:

   - `Python Downloads <https://www.python.org/downloads/>`_

2. Follow the installation instructions for your operating system. Make sure to add Python to your systemâ€™s path.

Setting Up a Virtual Environment
--------------------------------

After installing Python, proceed to set up a virtual environment for project dependencies:

1. Create a virtual environment:

   .. code-block:: bash

      python3 -m venv worklomics-env

2. Activate the virtual environment:

   .. code-block:: bash

      source worklomics-env/bin/activate  # On Windows use `worklomics-env\Scripts\activate`

Installing Workflomics Benchmarker
----------------------------------

With the virtual environment activated, you can now install the Workflomics benchmarker:

1. Install `workflomics-benchmarker` using pip:

   .. code-block:: bash

      pip install workflomics-benchmarker

Supporting Containerization
---------------------------

Workflows generated by Worklomics are containerized. Depending on your preference, install Docker or Singularity/Apptainer.

### Installing Docker

Docker supports containerized environments:

1. Download Docker Desktop from the official website:

   - `Docker Downloads <https://www.docker.com/products/docker-desktop>`_

2. Install Docker Desktop by following the installation guide for your OS and verify the installation:

   .. code-block:: bash

      docker --version

### Installing Singularity/Apptainer

Alternatively, use Singularity (now Apptainer) for containerization:

1. Follow the installation guide on the official Apptainer documentation:

   - `Apptainer Installation Guide <https://apptainer.org/docs/user/main/quick_start.html#installation>`_

2. Verify the installation:

   .. code-block:: bash

      singularity version  # or `apptainer version` based on your installation

Running Workflows
-----------------

To run the Workflomics workflows:

1. Unzip the workflows package.

2. Navigate to the folder containing the unzipped workflows.

3. Execute the benchmark command in the terminal. To benchmark in the current directory:

   .. code-block:: bash

      workflomics benchmark .

   Or to benchmark in a different directory:

   .. code-block:: bash

      workflomics benchmark path-to-dir

.. note:: Replace `path-to-dir` with the actual path to the directory containing your Worklomics workflows.

Visualizing Benchmark Results
-----------------------------

After benchmarking, upload your results to the Worklomics platform for interactive visualization:

1. Navigate to the Worklomics Benchmark Upload Page:

   - `Workflomics Benchmarks Upload <http://145.38.190.48/benchmarks>`_

2. Upload your `workflow-benchmarks.json` file by following the on-screen instructions.

3. Access interactive visualizations to explore the benchmark results comprehensively.

.. note:: Please ensure that any data you upload is free of sensitive or proprietary information, as it will be accessible to other users for analysis and comparison purposes.
